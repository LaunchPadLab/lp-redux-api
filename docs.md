<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [LP_API](#lp_api)
-   [requestWithKey](#requestwithkey)
-   [setFromRequest](#setfromrequest)

## LP_API

Symbol key that carries Lp Api call info to be interpreted by the Redux middleware.

## requestWithKey

An action creator that automatically adds a requestKey and default actions to your request.
These default actions can then be picked up by [setFromRequest](#setfromrequest).

Default actions are dynamically named using the key provided, like so:

-   `<requestKey>_REQUEST`
-   `<requestKey>_SUCCESS`
-   `<requestKey>_FAILURE`

**Parameters**

-   `requestKey` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A unique key that you can use to reference your request in [setFromRequest](#setfromrequest) or [selectStatus](selectStatus)
-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?= {}** Config options that you would normally include in an [LP_API] action, such as `url` and `method`

**Examples**

```javascript
export const REQ_FETCH_USERS = 'REQ_FETCH_USERS'

export const fetchUsers = requestWithKey(REQ_FETCH_USERS, {
  url: '/users'
})

fetchUsers()

// {
//   [LP_API]: {
//     url: '/users',
//     requestKey: 'REQ_FETCH_USERS',
//     actions: ['REQ_FETCH_USERS_REQUEST', 'REQ_FETCH_USERS_SUCCESS', 'REQ_FETCH_USERS_FAILURE']
//   }
// }
```

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An [LP_API] action that can be handled by the lp-redux-api middleware.

## setFromRequest

A function that creates action handlers for actions generated by [requestWithKey](#requestwithkey).
These handlers set data in the state from the response(s) of a given request.

By default, setFromRequest creates handlers for `<requestKey>_SUCCESS` and `<requestKey>_FAILURE` action types.
You can override either of these handlers in your reducer by creating handlers explicitly.

Current behavior (subject to change):

-   If the request is successful, the response will be set at `<path>.data`, and `<path>.error` will be `null`
-   If the request is unsuccessful, the response will be set at `<path>.error`, and `<path>.data` will be `null`

**Parameters**

-   `requestKey` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A unique key that references a request created by [requestWithKey](#requestwithkey)
-   `path` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A path (in dot notation) indicating where the data will be set in the state

**Examples**

```javascript
const REQ_FETCH_USERS = 'REQ_FETCH_USERS'

 const initialState = {
  user: {
    data: null,
    error: null
  }
 }

export const reducer = (state=initialState, action) => {
  const handlers = {
    ...setFromRequest(REQ_FETCH_USERS, 'user')
  }
  const handler = handlers[action.type]
  if (!handler) return state
  return handler(state, action)
}

// On success, this call returns userData
const fetchUsers = requestWithKey(REQ_FETCH_USERS, { url: '/users' })

dispatch(fetchUsers()) 

// On success, new state will be:
// {
//    user: {
//      data: userData,
//      error: null
//    } 
// }
```
