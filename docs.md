<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [LP_API](#lp_api)
-   [reducer](#reducer)
-   [requestWithKey](#requestwithkey)
-   [selectStatus](#selectstatus)

## LP_API

Symbol key that carries Lp Api call info to be interpreted by the Redux middleware.

## reducer

Stores the status of API requests in your state.
Statuses are stored for all requests with a `requestKey` (including those created by [requestWithKey](#requestwithkey)),
and can be retrieved by using [selectStatus](#selectstatus).

To use this reducer, add it to `combineReducers()` under the `api` key. You can use a different key if you'd like,
but you will need to reference it explicitly when using [selectStatus](#selectstatus).

**Examples**

```javascript
// When creating store, attach reducer

import { reducer as apiReducer } from 'lp-redux-api'

combineReducers({ 
  api: apiReducer,
  ...
})

// Now you can keep track of request status elsewhere in your app

import { requestKey, selectStatus } from 'lp-redux-api'

const REQ_FETCH_USERS = 'REQ_FETCH_USERS'
dispatch(requestWithKey(REQ_FETCH_USERS, { url: '/users' }))

selectStatus(REQ_FETCH_USERS, state) // -> 'loading'
```

## requestWithKey

An action creator that automatically adds a requestKey and default actions to your request.
These default actions can then be picked up by [setFromRequest](setFromRequest).

Default actions are dynamically named using the key provided, like so:

-   `<requestKey>_REQUEST`
-   `<requestKey>_SUCCESS`
-   `<requestKey>_FAILURE`

**Parameters**

-   `requestKey` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A unique key that you can use to reference your request in [setFromRequest](setFromRequest) or [selectStatus](#selectstatus)
-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?= {}** Config options that you would normally include in an [LP_API] action, such as `url` and `method`

**Examples**

```javascript
export const REQ_FETCH_USERS = 'REQ_FETCH_USERS'

export const fetchUsers = requestWithKey(REQ_FETCH_USERS, {
  url: '/users'
})

fetchUsers()

// {
//   [LP_API]: {
//     url: '/users',
//     requestKey: 'REQ_FETCH_USERS',
//     actions: ['REQ_FETCH_USERS_REQUEST', 'REQ_FETCH_USERS_SUCCESS', 'REQ_FETCH_USERS_FAILURE']
//   }
// }
```

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An [LP_API] action that can be handled by the lp-redux-api middleware.

## selectStatus

A function that, given the redux state, returns the status of a given API request. 
In order to work, the `lp-redux-api` reducer must be included in `combineReducers()`.

The status of a request can be one of the following exported constants:

-   `LP_API_STATUS_LOADING`: `'loading'`
-   `LP_API_STATUS_SUCCESS`: `'success'`
-   `LP_API_STATUS_FAILURE`: `'failure'`

**Parameters**

-   `requestKey` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A unique key that references a request created by [requestWithKey](#requestwithkey)
-   `state` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The state of your redux store
-   `slice` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** The path to the slice of state handled by the `lp-redux-api` reducer (optional, default `'api'`)

**Examples**

```javascript
// When creating store, attach reducer

import { reducer as apiReducer } from 'lp-redux-api'

combineReducers({ 
  api: apiReducer,
  ...
})

// Now you can keep track of request status elsewhere in your app

import { requestKey, selectStatus } from 'lp-redux-api'

const REQ_FETCH_USERS = 'REQ_FETCH_USERS'
dispatch(requestWithKey(REQ_FETCH_USERS, { url: '/users' }))

selectStatus(REQ_FETCH_USERS, state) // -> 'loading'
```

Returns **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A string constant indicating request status
